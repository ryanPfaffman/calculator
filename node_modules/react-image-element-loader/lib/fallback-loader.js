"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const loader_utils_1 = require("loader-utils");
const defualtLoader = "file-loader";
exports.getFallbackLoader = (fallbackLoader) => {
    let loader;
    let loaderOptions = {};
    switch (typeof fallbackLoader) {
        case "object":
            loader = fallbackLoader.loader;
            loaderOptions = fallbackLoader.options;
            break;
        case "string":
            (() => {
                const queryIndex = fallbackLoader.indexOf("?");
                loader = fallbackLoader.substr(0, queryIndex);
                loaderOptions = loader_utils_1.parseQuery(fallbackLoader.substr(queryIndex));
            })();
            break;
        default:
            loader = defualtLoader;
            break;
    }
    return { loader, loaderOptions };
};
